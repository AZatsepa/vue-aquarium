webpackJsonp([1],{"0P5M":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Zrlr"),r=a.n(i),n=a("wxAW"),s=a.n(n),u=a("olkN"),o=a("Zx67"),c=a.n(o),h=a("zwoO"),m=a.n(h),l=a("Pf15"),d=a.n(l),g=function(){function t(){r()(this,t)}return s()(t,null,[{key:"getNewCoord",value:function(t,e){var a=u.a.getters.aquariumWidth;"y"===e&&(a=u.a.getters.aquariumHeight);var i=(t===a?[t-1,t]:0===t?[0,t+1]:[t-1,t+1])[Math.floor(2*Math.random())];return("y"===e&&0===i||"x"===e&&1===i)&&(i+=1),i}},{key:"generateCoords",value:function(){return{x:Math.floor(Math.random()*(u.a.getters.aquariumWidth+1)),y:Math.floor(Math.random()*(u.a.getters.aquariumHeight+1))}}}]),t}(),p=function(){function t(){r()(this,t),this.weight=1,this.stepCount=0,this.gender=t.generateGender(),this.coords=g.generateCoords()}return s()(t,null,[{key:"generateGender",value:function(){var t=["male","female"];return t[Math.floor(Math.random()*t.length)]}}]),s()(t,[{key:"swim",value:function(){var t={x:g.getNewCoord(this.coords.x,"x"),y:g.getNewCoord(this.coords.y,"y")};this.coords=t,this.stepCount+=1,this.changeWeight()}},{key:"eat",value:function(t){this.weight+=t.weight}},{key:"changeWeight",value:function(){this.weight-=.1}}]),t}(),v=function(t){function e(){r()(this,e);var t=m()(this,(e.__proto__||c()(e)).call(this));return t.name="pike",t.weight=1,t}return d()(e,t),e}(p),f=function(t){function e(){r()(this,e);var t=m()(this,(e.__proto__||c()(e)).call(this));return t.weight=1,t.name="crucian",t}return d()(e,t),e}(p),w=function t(){r()(this,t),this.name="seaweed",this.weight=1,this.coords=g.generateCoords()},b=function(){function t(){r()(this,t),this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.map=[]}return s()(t,[{key:"fillTank",value:function(){for(var t=0;t<u.a.getters.pikesNumber;t+=1)this.map.push(new v);for(var e=0;e<u.a.getters.cruciansNumber;e+=1)this.map.push(new f);for(var a=0;a<u.a.getters.seaweedsNumber;a+=1)this.map.push(new w);for(var i=0;i<this.map.length;i+=1)this.DrawElem(this.map[i])}},{key:"DrawInhabitant",value:function(t,e,a){var i=document.getElementById(a+"2");this.context.drawImage(i,t,e,u.a.getters.cellSize,u.a.getters.cellSize)}},{key:"DrawElem",value:function(t){var e=(t.coords.x-1)*u.a.getters.cellSize,a=(u.a.getters.aquariumHeight-t.coords.y)*u.a.getters.cellSize;this.DrawInhabitant(e,a,t.name)}},{key:"removeElem",value:function(t){var e=this.map.indexOf(t);this.map.splice(e,1)}},{key:"crucianStep",value:function(t){var e=this;this.map.forEach(function(a){"seaweed"===a.name&&a.coords.x===t.coords.x&&a.coords.y===t.coords.y&&(t.eat(a),e.removeElem(a))}),t.swim()}},{key:"pikeStep",value:function(t){var e=this.map.find(function(e){return"crucian"===e.name&&e.coords.x===t.coords.x&&e.coords.y===t.coords.y});e&&(t.eat(e),this.removeElem(e)),t.swim(),t.weight<=0&&this.removeElem(t)}},{key:"canBeReproduced",value:function(t,e){return t.name===e.name&&t.stepCount>=3&&e.stepCount>=3&&t.gender!==e.gender&&t.coords.x===e.coords.x&&t.coords.y===e.coords.y}},{key:"reproduction",value:function(){var t=this;this.map.forEach(function(e){if("seaweed"!==e.name){var a=t.map.find(function(a){return t.canBeReproduced(a,e)});a&&"crucian"===e.name?t.map.push(new f):a&&"pike"===e.name&&t.map.push(new v)}})}},{key:"cruciansCount",value:function(){return this.map.filter(function(t){return"crucian"===t.name}).length}},{key:"pikesCount",value:function(){return this.map.filter(function(t){return"pike"===t.name}).length}},{key:"drawGrid",value:function(){for(var t=0;t<(u.a.getters.aquariumWidth+1)*u.a.getters.cellSize;t+=u.a.getters.cellSize)this.context.beginPath(),this.context.moveTo(t,0),this.context.lineTo(t,(u.a.getters.aquariumHeight+1)*u.a.getters.cellSize),this.context.stroke();for(var e=0;e<(u.a.getters.aquariumHeight+1)*u.a.getters.cellSize;e+=u.a.getters.cellSize)this.context.beginPath(),this.context.moveTo(0,e),this.context.lineTo((u.a.getters.aquariumWidth+1)*u.a.getters.cellSize,e),this.context.stroke()}},{key:"run",value:function(){var t=this;this.step=setInterval(function(){t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.reproduction(),t.map.forEach(function(e){switch(t.DrawElem(e),e.name){case"crucian":t.crucianStep(e);break;case"pike":t.pikeStep(e)}}),t.map.push(new w),(0===t.cruciansCount()||t.cruciansCount()>50)&&(t.stop(),u.a.commit("stopGame"))},u.a.getters.interval)}},{key:"drawText",value:function(t){this.context.font="30px Arial",this.context.fillStyle="red",this.context.textAlign="center",this.context.fillText(t,this.canvas.width/2,this.canvas.height/2)}},{key:"stop",value:function(){var t=this;clearInterval(this.step),this.step=null,this.map=[],this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawText("Game Over!"),setTimeout(function(){t.context.clearRect(0,0,t.canvas.width,t.canvas.height)},300)}}]),t}();e.default=b},"2MEq":function(t,e){},J8E8:function(t,e){},KglM:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row text-center"},[e("div",{staticClass:"col-md"},[e("h1",[this._v("Aquarium")])])])}]};var n=a("VU/8")({},r,!1,function(t){a("OxMO")},null,null).exports,s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("canvas",{attrs:{id:"canvas",width:this.tankWidth,height:this.tankHeight}})])},staticRenderFns:[]};var u=a("VU/8")({computed:{tankHeight:function(){return this.$store.getters.aquariumHeight*this.$store.getters.cellSize+"px"},tankWidth:function(){return this.$store.getters.aquariumWidth*this.$store.getters.cellSize+"px"}}},s,!1,function(t){a("kX3L")},null,null).exports,o=a("MICi"),c=a.n(o),h={data:function(){return{pikesNumber:this.$store.getters.pikesNumber,cruciansNumber:this.$store.getters.cruciansNumber,seaweedsNumber:this.$store.getters.seaweedsNumber,aquariumHeight:this.$store.getters.aquariumHeight,aquariumWidth:this.$store.getters.aquariumWidth,interval:this.$store.getters.interval}},methods:{handlePikesInput:function(t){var e=Number(t.target.value);e<0||c()(e)?(this.pikesNumber=0,this.$store.commit("changePikesNumber",0)):(this.pikesNumber=e,this.$store.commit("changePikesNumber",e))},handleCruciansInput:function(t){var e=Number(t.target.value);e<0||c()(e)?(this.cruciansNumber=0,this.$store.commit("changeCruciansNumber",0)):(this.cruciansNumber=e,this.$store.commit("changeCruciansNumber",e))},handleSeaweedsInput:function(t){var e=Number(t.target.value);e<0||c()(e)?(this.seaweedsNumber=0,this.$store.commit("changeSeaweedsNumber",0)):(this.seaweedsNumber=e,this.$store.commit("changeSeaweedsNumber",e))},handleAquariumHeightInput:function(t){var e=Number(t.target.value);e<4||c()(e)?(this.aquariumHeight=4,this.$store.commit("changeAquariumHeight",4)):e>20?(this.aquariumHeight=20,this.$store.commit("changeAquariumHeight",20)):(this.aquariumHeight=e,this.$store.commit("changeAquariumHeight",e))},handleAquariumWidthInput:function(t){var e=Number(t.target.value);e<4||c()(e)?(this.aquariumWidth=4,this.$store.commit("changeAquariumWidth",4)):e>20?(this.aquariumWidth=20,this.$store.commit("changeAquariumWidth",20)):(this.aquariumWidth=e,this.$store.commit("changeAquariumWidth",e))},handleIntervalInput:function(t){var e=Number(t.target.value);e<100||c()(e)?(this.interval=100,this.$store.commit("changeStepsInterval",100)):(this.interval=e,this.$store.commit("changeStepsInterval",e))}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container col-9 text-left"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group row"},[i("img",{attrs:{src:a("XtjG"),alt:"",width:"50",height:"50",id:"pike"}}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pikesNumber,expression:"pikesNumber"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.pikesNumber},on:{input:[function(e){e.target.composing||(t.pikesNumber=e.target.value)},t.handlePikesInput]}})])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("img",{attrs:{src:a("W31y"),alt:"",width:"50",height:"50",id:"crucian"}}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cruciansNumber,expression:"cruciansNumber"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.cruciansNumber},on:{input:[function(e){e.target.composing||(t.cruciansNumber=e.target.value)},t.handleCruciansInput]}})])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("img",{attrs:{src:a("TNnA"),alt:"",width:"50",height:"50",id:"seaweed"}}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.seaweedsNumber,expression:"seaweedsNumber"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.seaweedsNumber},on:{input:[function(e){e.target.composing||(t.seaweedsNumber=e.target.value)},t.handleSeaweedsInput]}})])])]),t._v(" "),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Aquarium height (20 cells max)")]),t._v(" "),i("div",{staticClass:"col-sm-5"},[i("input",{staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.aquariumHeight},on:{input:t.handleAquariumHeightInput}})])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Aquarium width (20 cells max)")]),t._v(" "),i("div",{staticClass:"col-sm-5"},[i("input",{staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.aquariumWidth},on:{input:t.handleAquariumWidthInput}})])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Set Interval (ms)")]),t._v(" "),i("div",{staticClass:"col-sm-5"},[i("input",{staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.interval},on:{input:t.handleIntervalInput}})])])])])])},staticRenderFns:[]};var l=a("VU/8")(h,m,!1,function(t){a("2MEq")},null,null).exports,d=a("0P5M").default,g={data:function(){return{gameStarted:!1,tank:null}},methods:{play:function(){this.$store.getters.gameStarted?(this.$store.commit("stopGame"),this.tank.stop()):(this.$store.commit("startGame"),this.tank.fillTank(),this.tank.run())}},computed:{text:function(){return this.$store.getters.gameStarted?"Stop Game":"Start Game"},buttonClass:function(){return this.$store.getters.gameStarted?{"btn-danger":!0}:{"btn-success":!0}}},mounted:function(){this.tank=new d}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("button",{staticClass:"btn",class:this.buttonClass,on:{click:this.play}},[this._v(this._s(this.text))])])},staticRenderFns:[]};var v={name:"App",components:{appHeader:n,appTank:u,appSettings:l,appButtons:a("VU/8")(g,p,!1,function(t){a("J8E8")},null,null).exports}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center",attrs:{id:"app"}},[a("div",{staticClass:"col-10"},[a("app-header"),t._v(" "),a("app-tank"),t._v(" "),a("hr"),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.$store.getters.gameStarted?t._e():a("app-settings"),t._v(" "),t.$store.getters.gameStarted?t._e():a("hr")],1),t._v(" "),a("app-buttons"),t._v(" "),t._m(0)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-none"},[e("img",{attrs:{src:a("W31y"),alt:"",width:"50",height:"50",id:"crucian2"}}),this._v(" "),e("img",{attrs:{src:a("XtjG"),alt:"",width:"50",height:"50",id:"pike2"}}),this._v(" "),e("img",{attrs:{src:a("TNnA"),alt:"",width:"50",height:"50",id:"seaweed2"}})])}]};var w=a("VU/8")(v,f,!1,function(t){a("KglM")},null,null).exports,b=a("/ocq");i.a.use(b.a);var k=new b.a({mode:"history"}),N=a("olkN");a.d(e,"eventBus",function(){return x});var x=new i.a({});i.a.config.productionTip=!1,new i.a({el:"#app",store:N.a,router:k,components:{App:w},template:"<App/>"})},OxMO:function(t,e){},TNnA:function(t,e,a){t.exports=a.p+"static/img/seaweed.3d8ecd2.png"},W31y:function(t,e,a){t.exports=a.p+"static/img/crucian.ed475d0.png"},XtjG:function(t,e,a){t.exports=a.p+"static/img/pike.dbd79d9.png"},kX3L:function(t,e){},olkN:function(t,e,a){"use strict";var i=a("7+uW"),r=a("NYxO");i.a.use(r.a),e.a=new r.a.Store({state:{gameStarted:!1,pikesNumber:3,cruciansNumber:5,seaweedsNumber:0,aquariumHeight:10,aquariumWidth:10,cellSize:50,interval:300,bar:10},getters:{gameStarted:function(t){return t.gameStarted},aquariumHeight:function(t){return t.aquariumHeight},cruciansNumber:function(t){return t.cruciansNumber},pikesNumber:function(t){return t.pikesNumber},seaweedsNumber:function(t){return t.seaweedsNumber},aquariumWidth:function(t){return t.aquariumWidth},tankHeight:function(t){return t.tankHeight},cellSize:function(t){return t.cellSize},interval:function(t){return t.interval}},mutations:{changePikesNumber:function(t,e){t.pikesNumber=e},changeCruciansNumber:function(t,e){t.cruciansNumber=e},changeSeaweedsNumber:function(t,e){t.seaweedsNumber=e},changeAquariumHeight:function(t,e){t.aquariumHeight=e},changeAquariumWidth:function(t,e){t.aquariumWidth=e},changeStepsInterval:function(t,e){t.interval=e},startGame:function(t){t.gameStarted=!0},stopGame:function(t){t.gameStarted=!1}}})}},["NHnr"]);
//# sourceMappingURL=app.97f80edd09951c1b61e3.js.map