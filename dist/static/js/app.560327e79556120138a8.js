webpackJsonp([1],{"0P5M":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Zrlr"),s=a.n(i),n=a("wxAW"),r=a.n(n),u=a("olkN"),c=a("Zx67"),o=a.n(c),l=a("zwoO"),m=a.n(l),h=a("Pf15"),d=a.n(h),v=function(){function t(){s()(this,t)}return r()(t,null,[{key:"getNewCoord",value:function(t,e){var a=u.a.state.aquariumWidth;"y"===e&&(a=u.a.state.aquariumHeight);var i=(t===a?[t-1,t]:0===t?[0,t+1]:[t-1,t+1])[Math.floor(2*Math.random())];return("y"===e&&0===i||"x"===e&&1===i)&&(i+=1),i}},{key:"generateCoords",value:function(){return{x:Math.floor(Math.random()*(u.a.state.aquariumWidth+1)),y:Math.floor(Math.random()*(u.a.state.aquariumHeight+1))}}}]),t}(),p=function(){function t(){s()(this,t),this.weight=1,this.stepCount=0,this.gender=t.generateGender(),this.coords=v.generateCoords()}return r()(t,null,[{key:"generateGender",value:function(){var t=["male","female"];return t[Math.floor(Math.random()*t.length)]}}]),r()(t,[{key:"swim",value:function(){var t={x:v.getNewCoord(this.coords.x,"x"),y:v.getNewCoord(this.coords.y,"y")};this.coords=t,this.stepCount+=1,this.changeWeight()}},{key:"eat",value:function(t){this.weight+=t.weight}},{key:"changeWeight",value:function(){this.weight-=.1}}]),t}(),f=function(t){function e(){s()(this,e);var t=m()(this,(e.__proto__||o()(e)).call(this));return t.name="pike",t.weight=1,t}return d()(e,t),e}(p),g=function(t){function e(){s()(this,e);var t=m()(this,(e.__proto__||o()(e)).call(this));return t.weight=1,t.name="crucian",t}return d()(e,t),e}(p),b=function t(){s()(this,t),this.name="seaweed",this.weight=1,this.coords=v.generateCoords()},_=function(t,e){return t.coords.x===e.coords.x&&t.coords.y===e.coords.y},x=function(){function t(){s()(this,t),this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.map=[]}return r()(t,[{key:"fillTank",value:function(){for(var t=0;t<u.a.state.pikesNumber;t+=1)this.map.push(new f);for(var e=0;e<u.a.state.cruciansNumber;e+=1)this.map.push(new g);for(var a=0;a<u.a.state.seaweedsNumber;a+=1)this.map.push(new b);for(var i=0;i<this.map.length;i+=1)this.DrawElem(this.map[i])}},{key:"DrawInhabitant",value:function(t,e,a){var i=document.getElementById(a+"2");this.context.drawImage(i,t,e,u.a.state.cellSize,u.a.state.cellSize)}},{key:"DrawElem",value:function(t){var e=(t.coords.x-1)*u.a.state.cellSize,a=(u.a.state.aquariumHeight-t.coords.y)*u.a.state.cellSize;this.DrawInhabitant(e,a,t.name)}},{key:"removeElem",value:function(t){var e=this.map.indexOf(t);this.map.splice(e,1)}},{key:"crucianStep",value:function(t){var e=this;this.map.forEach(function(a){"seaweed"===a.name&&_(t,a)&&(t.eat(a),e.removeElem(a))}),t.swim()}},{key:"pikeStep",value:function(t){var e=this.map.find(function(e){return"crucian"===e.name&&_(t,e)});e&&(t.eat(e),this.removeElem(e)),t.swim(),t.weight<=0&&this.removeElem(t)}},{key:"canBeReproduced",value:function(t,e){return t.name===e.name&&t.stepCount>=3&&e.stepCount>=3&&t.gender!==e.gender&&_(t,e)}},{key:"reproduction",value:function(){var t=this;this.map.forEach(function(e){if("seaweed"!==e.name){var a=t.map.find(function(a){return t.canBeReproduced(a,e)});a&&"crucian"===e.name?t.map.push(new g):a&&"pike"===e.name&&t.map.push(new f)}})}},{key:"cruciansCount",value:function(){return this.map.filter(function(t){return"crucian"===t.name}).length}},{key:"pikesCount",value:function(){return this.map.filter(function(t){return"pike"===t.name}).length}},{key:"drawGrid",value:function(){for(var t=0;t<(u.a.state.aquariumWidth+1)*u.a.state.cellSize;t+=u.a.state.cellSize)this.context.beginPath(),this.context.moveTo(t,0),this.context.lineTo(t,(u.a.state.aquariumHeight+1)*u.a.state.cellSize),this.context.stroke();for(var e=0;e<(u.a.state.aquariumHeight+1)*u.a.state.cellSize;e+=u.a.state.cellSize)this.context.beginPath(),this.context.moveTo(0,e),this.context.lineTo((u.a.state.aquariumWidth+1)*u.a.state.cellSize,e),this.context.stroke()}},{key:"run",value:function(){var t=this;this.step=setInterval(function(){t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.reproduction(),t.map.forEach(function(e){switch(t.DrawElem(e),e.name){case"crucian":t.crucianStep(e);break;case"pike":t.pikeStep(e)}}),t.map.push(new b),(0===t.cruciansCount()||t.cruciansCount()>50)&&(t.stop(),u.a.commit("stopGame"))},u.a.state.interval)}},{key:"drawText",value:function(t){this.context.font="30px Arial",this.context.fillStyle="red",this.context.textAlign="center",this.context.fillText(t,this.canvas.width/2,this.canvas.height/2)}},{key:"stop",value:function(){var t=this;clearInterval(this.step),this.step=null,this.map=[],this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawText("Game Over!"),setTimeout(function(){t.context.clearRect(0,0,t.canvas.width,t.canvas.height)},300)}}]),t}();e.default=x},"2XJ5":function(t,e){},"4G+b":function(t,e){},NCKD:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("ESwS"),n=a.n(s),r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row text-center"},[e("div",{staticClass:"col-md"},[e("h1",[this._v("Aquarium")])])])}]};var u=a("VU/8")({},r,!1,function(t){a("OxMO")},null,null).exports,c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("canvas",{attrs:{id:"canvas",width:this.tankWidth,height:this.tankHeight}})])},staticRenderFns:[]};var o=a("VU/8")({computed:{tankHeight:function(){return this.$store.state.aquariumHeight*this.$store.state.cellSize+"px"},tankWidth:function(){return this.$store.state.aquariumWidth*this.$store.state.cellSize+"px"}}},c,!1,function(t){a("NCKD")},null,null).exports,l=a("+cKO"),m={computed:{pikesNumber:{get:function(){return this.$store.state.pikesNumber},set:function(t){this.$store.commit("changePikesNumber",t)}},cruciansNumber:{get:function(){return this.$store.state.cruciansNumber},set:function(t){this.$store.commit("changeCruciansNumber",t)}},seaweedsNumber:{get:function(){return this.$store.state.seaweedsNumber},set:function(t){this.$store.commit("changeSeaweedsNumber",t)}},aquariumHeight:{get:function(){return this.$store.state.aquariumHeight},set:function(t){this.$store.commit("changeAquariumHeight",t)}},aquariumWidth:{get:function(){return this.$store.state.aquariumWidth},set:function(t){this.$store.commit("changeAquariumWidth",t)}},interval:{get:function(){return this.$store.state.interval},set:function(t){this.$store.commit("changeStepsInterval",t)}}},validations:{pikesNumber:{numeric:l.numeric,required:l.required,maxVal:Object(l.maxValue)(10),minVal:Object(l.minValue)(0)},cruciansNumber:{numeric:l.numeric,required:l.required,maxVal:Object(l.maxValue)(10),minVal:Object(l.minValue)(1)},seaweedsNumber:{numeric:l.numeric,required:l.required,maxVal:Object(l.maxValue)(15)},aquariumHeight:{numeric:l.numeric,minVal:Object(l.minValue)(4),maxVal:Object(l.maxValue)(20)},aquariumWidth:{numeric:l.numeric,minVal:Object(l.minValue)(4),maxVal:Object(l.maxValue)(20)},interval:{minVal:Object(l.minValue)(50),maxVal:Object(l.maxValue)(5e3)}},methods:{setPikesNumber:function(){this.$v.pikesNumber.$touch(),this.checkSettings()},setCruciansNumber:function(){this.$v.cruciansNumber.$touch(),this.checkSettings()},setSeaweedsNumber:function(){this.$v.seaweedsNumber.$touch(),this.checkSettings()},setAquariumHeight:function(){this.$v.aquariumHeight.$touch(),this.checkSettings()},setAquariumWidth:function(){this.$v.aquariumWidth.$touch(),this.checkSettings()},setInterval:function(){this.$v.interval.$touch(),this.checkSettings()},checkSettings:function(){this.$v.$invalid?this.$store.commit("invalidSettings"):this.$store.commit("validSettings")}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container col-9 text-left"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group row"},[i("img",{attrs:{src:a("XtjG"),alt:"",width:"50",height:"50",id:"pike"}}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.pikesNumber,expression:"pikesNumber",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.$v.pikesNumber.$error},attrs:{type:"number"},domProps:{value:t.pikesNumber},on:{blur:[t.setPikesNumber,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.pikesNumber=t._n(e.target.value))}}})]),t._v(" "),t.$v.pikesNumber.numeric?t._e():i("small",{staticClass:"text-danger"},[t._v("Pikes quantity should be a number")]),t._v(" "),t.$v.pikesNumber.required?t._e():i("small",{staticClass:"text-danger"},[t._v("Pikes quantity should be present")])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("img",{attrs:{src:a("W31y"),alt:"",width:"50",height:"50",id:"crucian"}}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cruciansNumber,expression:"cruciansNumber",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.$v.cruciansNumber.$error},attrs:{type:"number"},domProps:{value:t.cruciansNumber},on:{blur:[t.setCruciansNumber,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.cruciansNumber=t._n(e.target.value))}}})]),t._v(" "),t.$v.cruciansNumber.numeric?t._e():i("small",{staticClass:"text-danger"},[t._v("Crucians quantity should be a number")]),t._v(" "),t.$v.cruciansNumber.required?t._e():i("small",{staticClass:"text-danger"},[t._v("Crucians quantity should be present")])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("img",{attrs:{src:a("TNnA"),alt:"",width:"50",height:"50",id:"seaweed"}}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.seaweedsNumber,expression:"seaweedsNumber",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.$v.seaweedsNumber.$error},attrs:{type:"number"},domProps:{value:t.seaweedsNumber},on:{blur:[t.setSeaweedsNumber,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.seaweedsNumber=t._n(e.target.value))}}})]),t._v(" "),t.$v.seaweedsNumber.numeric?t._e():i("small",{staticClass:"text-danger"},[t._v("Seaweeds quantity should be a number")]),t._v(" "),t.$v.seaweedsNumber.required?t._e():i("small",{staticClass:"text-danger"},[t._v("Seaweeds quantity should be present")])])]),t._v(" "),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Aquarium height (20 cells max)")]),t._v(" "),i("div",{staticClass:"col-sm-5"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.aquariumHeight,expression:"aquariumHeight",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.$v.aquariumHeight.$error},attrs:{type:"number"},domProps:{value:t.aquariumHeight},on:{blur:[t.setAquariumHeight,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.aquariumHeight=t._n(e.target.value))}}})]),t._v(" "),t.$v.aquariumHeight.numeric?t._e():i("small",{staticClass:"text-danger"},[t._v("Height should be a number")]),t._v(" "),t.$v.aquariumHeight.minVal?t._e():i("small",{staticClass:"text-danger"},[t._v("\n          Height should be "+t._s(t.$v.aquariumHeight.$params.minVal)+" cells min\n        ")]),t._v(" "),t.$v.aquariumHeight.maxVal?t._e():i("small",{staticClass:"text-danger"},[t._v("\n          Height should be "+t._s(t.$v.aquariumHeight.$params.maxVal)+" cells max\n        ")])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Aquarium width (20 cells max)")]),t._v(" "),i("div",{staticClass:"col-sm-5"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.aquariumWidth,expression:"aquariumWidth",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.$v.aquariumWidth.$error},attrs:{type:"number"},domProps:{value:t.aquariumWidth},on:{blur:[t.setAquariumWidth,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.aquariumWidth=t._n(e.target.value))}}})]),t._v(" "),t.$v.aquariumWidth.numeric?t._e():i("small",{staticClass:"text-danger"},[t._v("Width should be a number")]),t._v(" "),t.$v.aquariumWidth.minVal?t._e():i("small",{staticClass:"text-danger"},[t._v("Width should be "+t._s(t.$v.aquariumWidth.$params.minVal)+" cells min")]),t._v(" "),t.$v.aquariumWidth.maxVal?t._e():i("small",{staticClass:"text-danger"},[t._v("Width should be "+t._s(t.$v.aquariumWidth.$params.maxVal)+" cells max")])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Set Interval (ms)")]),t._v(" "),i("div",{staticClass:"col-sm-5"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.interval,expression:"interval",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.$v.interval.$error},attrs:{type:"number"},domProps:{value:t.interval},on:{blur:[t.setInterval,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.interval=t._n(e.target.value))}}})]),t._v(" "),t.$v.interval.minVal?t._e():i("small",{staticClass:"text-danger"},[t._v("Interval should be "+t._s(t.$v.interval.$params.minVal)+"ms min")]),t._v(" "),t.$v.interval.maxVal?t._e():i("small",{staticClass:"text-danger"},[t._v("Interval should be "+t._s(t.$v.interval.$params.maxVal)+"ms max")])])])]),t._v(" "),i("hr")])},staticRenderFns:[]};var d=a("VU/8")(m,h,!1,function(t){a("2XJ5")},null,null).exports,v=a("0P5M").default,p={data:function(){return{gameStarted:!1,tank:null}},methods:{play:function(){this.$store.state.gameStarted?(this.$store.commit("stopGame"),this.tank.stop()):(this.$store.commit("startGame"),this.tank.fillTank(),this.tank.run())}},computed:{text:function(){return this.$store.state.gameStarted?"Stop Game":"Start Game"},buttonClass:function(){return this.$store.state.gameStarted?{"btn-danger":!0}:{"btn-success":!0}}},mounted:function(){this.tank=new v}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("button",{staticClass:"btn",class:this.buttonClass,attrs:{disabled:!this.$store.state.settingsValid},on:{click:this.play}},[this._v(this._s(this.text))])])},staticRenderFns:[]};var g={name:"App",components:{appHeader:u,appTank:o,appSettings:d,appButtons:a("VU/8")(p,f,!1,function(t){a("4G+b")},null,null).exports}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center",attrs:{id:"app"}},[a("div",{staticClass:"col-10"},[a("app-header"),t._v(" "),a("hr"),t._v(" "),a("app-tank"),t._v(" "),a("hr"),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.$store.state.gameStarted?t._e():a("app-settings")],1),t._v(" "),a("app-buttons"),t._v(" "),t._m(0)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-none"},[e("img",{attrs:{src:a("W31y"),alt:"",width:"50",height:"50",id:"crucian2"}}),this._v(" "),e("img",{attrs:{src:a("XtjG"),alt:"",width:"50",height:"50",id:"pike2"}}),this._v(" "),e("img",{attrs:{src:a("TNnA"),alt:"",width:"50",height:"50",id:"seaweed2"}})])}]};var _=a("VU/8")(g,b,!1,function(t){a("zHnQ")},null,null).exports,x=a("/ocq");i.a.use(x.a);var w=new x.a({mode:"history"}),$=a("olkN");i.a.use(n.a),i.a.config.productionTip=!1,new i.a({el:"#app",store:$.a,router:w,components:{App:_},template:"<App/>"})},OxMO:function(t,e){},TNnA:function(t,e,a){t.exports=a.p+"static/img/seaweed.3d8ecd2.png"},W31y:function(t,e,a){t.exports=a.p+"static/img/crucian.ed475d0.png"},XtjG:function(t,e,a){t.exports=a.p+"static/img/pike.dbd79d9.png"},olkN:function(t,e,a){"use strict";var i=a("7+uW"),s=a("NYxO");i.a.use(s.a),e.a=new s.a.Store({state:{gameStarted:!1,pikesNumber:3,cruciansNumber:5,seaweedsNumber:0,aquariumHeight:10,aquariumWidth:10,cellSize:50,interval:300,settingsValid:!0},mutations:{changePikesNumber:function(t,e){t.pikesNumber=e},changeCruciansNumber:function(t,e){t.cruciansNumber=e},changeSeaweedsNumber:function(t,e){t.seaweedsNumber=e},changeAquariumHeight:function(t,e){t.aquariumHeight=e},changeAquariumWidth:function(t,e){t.aquariumWidth=e},changeStepsInterval:function(t,e){t.interval=e},startGame:function(t){t.gameStarted=!0},stopGame:function(t){t.gameStarted=!1},invalidSettings:function(t){t.settingsValid=!1},validSettings:function(t){t.settingsValid=!0}}})},zHnQ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.560327e79556120138a8.js.map